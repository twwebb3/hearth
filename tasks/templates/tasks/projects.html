{% extends "base.html" %}

{% block title %}Projects{% endblock %}

{% block content %}
{% include "tasks/_subnav.html" with page_title="Projects" %}

{% if projects %}
<div style="display: flex; flex-direction: column; gap: 6px;">
  {% for p in projects %}
  <div class="card" style="display: flex; align-items: center; gap: 10px;">
    <span style="display: inline-block; width: 12px; height: 12px; border-radius: 50%; flex-shrink: 0; background: {% if p.color_hex %}{{ p.color_hex }}{% else %}{{ p.domain.color_hex }}{% endif %};"></span>
    <div style="flex: 1; min-width: 0;">
      <div style="font-weight: 600;"><a href="{% url 'tasks:project_detail' pk=p.pk %}" style="color: inherit; text-decoration: none;">{{ p.name }}</a></div>
      <div style="font-size: 13px; color: #6b7280;">{{ p.domain.name }}</div>
    </div>
    <div style="display: flex; gap: 12px; font-size: 13px; color: #6b7280; flex-shrink: 0; align-items: center;">
      <span>{{ p.active_tasks }} active task{{ p.active_tasks|pluralize }}</span>
      <span style="font-size: 11px; text-transform: uppercase; padding: 2px 8px; border-radius: 6px;
        {% if p.status == 'active' %}background: #d1fae5; color: #065f46;
        {% elif p.status == 'paused' %}background: #fef3c7; color: #92400e;
        {% elif p.status == 'complete' %}background: #e0e7ff; color: #3730a3;
        {% else %}background: #e5e7eb; color: #374151;{% endif %}
      ">{{ p.status }}</span>
    </div>
  </div>
  {% endfor %}
</div>
{% else %}
<div class="card" style="text-align: center; color: #6b7280; padding: 24px;">
  No projects yet.
</div>
{% endif %}
{% endblock %}
