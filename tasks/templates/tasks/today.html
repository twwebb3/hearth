{% extends "base.html" %}

{% block title %}Today's Tasks{% endblock %}

{% block content %}
{% include "tasks/_subnav.html" with page_title="Today" %}
<p style="margin-top: 0; color: #6b7280;">{{ date|date:"l, F j, Y" }}</p>

{% if instances %}
<div style="display: flex; flex-direction: column; gap: 6px;">
  {% for inst in instances %}
  <div class="card" style="display: flex; align-items: center; gap: 10px;{% if inst.status != 'incomplete' %} opacity: 0.55;{% endif %}">
    <span style="
      display: inline-block;
      width: 12px; height: 12px;
      border-radius: 50%;
      flex-shrink: 0;
      background: {{ inst.dot_color }};
    "></span>
    <div style="flex: 1; min-width: 0;">
      <div style="font-weight: 600;{% if inst.status == 'complete' %} text-decoration: line-through;{% endif %}">
        {{ inst.task.name }}
      </div>
      <div style="font-size: 13px; color: #6b7280;">
        {% if inst.task.project %}{{ inst.task.project.domain.name }} &middot; {{ inst.task.project.name }}{% else %}{{ inst.task.domain.name }}{% endif %}
      </div>
    </div>
    <span style="
      font-size: 11px;
      text-transform: uppercase;
      padding: 2px 8px;
      border-radius: 6px;
      {% if inst.status == 'complete' %}
        background: #d1fae5; color: #065f46;
      {% elif inst.status == 'skipped' %}
        background: #e5e7eb; color: #374151;
      {% else %}
        background: #fef3c7; color: #92400e;
      {% endif %}
    ">{{ inst.status }}</span>
  </div>
  {% endfor %}
</div>
{% else %}
<div class="card" style="text-align: center; color: #6b7280; padding: 32px;">
  No tasks for today.
</div>
{% endif %}
{% endblock %}
